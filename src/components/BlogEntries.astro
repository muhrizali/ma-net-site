---
import ArticleEntry from "./ArticleEntry.astro";
import ArticleEntryContainer from "./ArticleEntryContainer.astro";
import { getCollection } from "astro:content";

interface Props {
    limit: number;
}

const { limit } = Astro.props;
let posts = [];

if (limit === 0) {
    posts = await getCollection("blogPosts");
} else {
    posts = (await getCollection("blogPosts")).slice(0, limit)
}
---

<ArticleEntryContainer>
    {
        posts.map((post) => (
            <li>
                <ArticleEntry link={`/blog/${post.id}`} title={post.data.title}>
                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. In
                    nobis mollitia ad blanditiis itaque cum, quaerat quasi ipsum
                    libero quia, quibusdam architecto dolore omnis temporibus
                    molestias, inventore exercitationem unde vitae?
                </ArticleEntry>
            </li>
        ))
    }
</ArticleEntryContainer>
